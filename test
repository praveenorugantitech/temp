public static void addChildElement(Document doc, Element parent, String name, String value) {
    Element element = doc.createElement(name);
    
    // Only append a text node if the value is not null
    if (value != null) {
        element.appendChild(doc.createTextNode(value));
    }
    
    parent.appendChild(element);
}
