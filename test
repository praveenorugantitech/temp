public static void addChildElement(Document doc, Element parent, String name, String value) {
    Element element = doc.createElement(name);

    // Add a text node only if value is not null
    if (value != null) {
        element.appendChild(doc.createTextNode(value));
    }

    // If value is null, create an empty element to ensure it is not self-closing
    parent.appendChild(element);
}
